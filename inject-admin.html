<script>
// disable area code selection popup
cart.config.behavior.checkDeliveryAreaOnCustDomains = 0;
window.check4DeliveryArea = function() {}
cart.check4DeliveryArea = function() {}


// This is the admin version of hipsterOrderFinishedAlert. It will notify
// the user of errors and also fill out the form fields.
function hipsterOrderFinishedAlert() {
  var stat = "<b>1. Check Order</b><br/>";
  stat += "Expected sum: " + hipsterTotalPrice.toFixed(2) + "<br/>";
  if(hipsterItems.length > 0) {
    stat += "Missing items: <ul>";
    $.each(hipsterItems, function(ind, item) {
      var ex = item["extra"].length === 0 ? "" : " + " + item["extra"].join(" + ")
      stat += "<li>"+item["prod"]+ex+"</li>";
    });
    stat += "</ul>";
  }
  stat += "<br/><br/><b>2. Submit order and wait for confirmation</b><br/>";
  stat += "<br/><br/><b>3. set correct submit date</b><br/>";
  stat += "<a href='"+hipsterPizzaHost+"?action=marksubmitted'>click to set correct submit date</a>";
  stat += "<br/><br/><b>4. set delivery date</b> (on overview page)<br/>";
  $("#hipsterStatus").html(stat);


  if(hipsterItems.length > 0) {
    alert("Some items have not been found. They are now being logged to your console.");
    console.warn(hipsterItems);
  } else if(hipsterTotalPrice !== hipsterGetPriceForAllItems()) {
    alert("No errors have been reported, but the prices do not match up.\nExpected "+hipsterTotalPrice+" but got "+hipsterGetPriceForAllItems()+". Please investigate before submitting.");
  } else {
    alert("All done! You now may submit the cart.");
  }
}

function hipsterOnLoadActions() {
  hipsterSetSubmitData();
}

hipsterSetupReplay();
</script>

<title>HipsterPizza: ADMIN MODE</title>
